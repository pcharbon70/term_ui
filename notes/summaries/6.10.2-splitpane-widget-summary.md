# Summary: Section 6.10.2 SplitPane Widget

## Overview

Implemented a SplitPane widget for creating resizable multi-pane layouts with horizontal and vertical orientations, draggable dividers, min/max constraints, collapse functionality, nested splits, and layout persistence.

## Features Implemented

### 6.10.2.1 Horizontal Split
- Side-by-side pane arrangement
- Vertical divider character (│/┃)
- Space distribution based on size proportions

### 6.10.2.2 Vertical Split
- Stacked pane arrangement
- Horizontal divider character (─/━)
- Space distribution based on size proportions

### 6.10.2.3 Draggable Divider
- Tab/Shift+Tab to cycle focus between dividers
- Arrow keys to resize (Left/Up decrease, Right/Down increase)
- Shift+Arrows for larger resize steps
- Home/End to move to min/max positions
- Mouse click on divider starts drag
- Mouse drag resizes panes
- Mouse release ends drag

### 6.10.2.4 Min/Max Size Constraints
- Per-pane `min_size` option prevents shrinking below minimum
- Per-pane `max_size` option prevents growing above maximum
- Constraints respected during keyboard and mouse resize
- Graceful handling of constraint violations

### 6.10.2.5 Collapse to Zero
- Enter key toggles collapse of pane after focused divider
- Double-click on divider toggles collapse
- Collapsed panes render with zero size
- Adjacent pane expands to fill space
- `collapse/2`, `expand/2`, `toggle/2` API functions

### 6.10.2.6 Nested Splits
- SplitPane can be used as pane content
- Enables complex IDE-style layouts
- Example: Left sidebar | (Top editor / Bottom terminal)

### 6.10.2.7 Layout State Persistence
- `get_layout/1` exports pane sizes and collapsed states
- `set_layout/2` restores from saved layout
- Format: `%{pane_id => %{size: float, collapsed: boolean}}`

## API

### Props
```elixir
SplitPane.new(
  orientation: :horizontal | :vertical,
  panes: [pane_spec()],
  divider_size: 1,
  divider_style: Style.t(),
  focused_divider_style: Style.t(),
  resizable: true,
  on_resize: fn sizes -> ... end,
  on_collapse: fn {id, collapsed} -> ... end,
  persist_key: atom() | nil
)
```

### Pane Constructor
```elixir
SplitPane.pane(id, content,
  size: 0.5,           # Float (0.0-1.0) or integer
  min_size: 10,        # Minimum size in chars/lines
  max_size: 50,        # Maximum size in chars/lines
  collapsed: false     # Initial collapsed state
)
```

### Public Functions
- `get_layout/1` - Export layout for persistence
- `set_layout/2` - Restore layout from saved state
- `collapse/2` - Collapse pane by ID
- `expand/2` - Expand pane by ID
- `toggle/2` - Toggle collapse state
- `set_pane_size/3` - Set pane size by ID
- `get_pane_ids/1` - Get list of pane IDs
- `get_focused_divider/1` - Get focused divider index
- `set_content/3` - Update pane content by ID

## Files Created/Modified

### New Files
- `lib/term_ui/widgets/split_pane.ex` - SplitPane widget implementation (~820 lines)
- `test/term_ui/widgets/split_pane_test.exs` - Comprehensive tests (45 tests)
- `examples/split_pane/` - Example application
  - `mix.exs`
  - `lib/split_pane/application.ex`
  - `lib/split_pane/app.ex`
- `notes/features/6.10.2-splitpane-widget.md` - Planning document
- `notes/summaries/6.10.2-splitpane-widget-summary.md` - This summary

## Test Coverage

45 tests covering:
- Pane constructor (2 tests)
- Props creation (2 tests)
- Initialization (1 test)
- Horizontal rendering (3 tests)
- Vertical rendering (1 test)
- Tab navigation (3 tests)
- Keyboard resize (4 tests)
- Vertical keyboard resize (1 test)
- Home/End keys (2 tests)
- Min/max constraints (2 tests)
- Collapse/expand (2 tests)
- Mouse interaction (3 tests)
- Public API - get_layout (1 test)
- Public API - set_layout (1 test)
- Public API - collapse/expand/toggle (3 tests)
- Public API - set_pane_size (1 test)
- Public API - get_pane_ids (1 test)
- Public API - get_focused_divider (1 test)
- Public API - set_content (1 test)
- Nested splits (1 test)
- Three panes (2 tests)
- Resizable false (2 tests)
- Callbacks (1 test)
- Edge cases (4 tests)

## Example Application

The example demonstrates:
- Three layout modes: horizontal, vertical, nested (IDE-style)
- Keyboard controls for divider focus and resize
- Pane collapse/expand functionality
- Layout save and restore
- Min/max size constraints on panes

## Usage Example

```elixir
# Simple two-pane horizontal split
props = SplitPane.new(
  orientation: :horizontal,
  panes: [
    SplitPane.pane(:sidebar, sidebar_content(), size: 0.25, min_size: 15),
    SplitPane.pane(:main, main_content(), size: 0.75)
  ]
)

{:ok, state} = SplitPane.init(props)

# Nested split for IDE-like layout
inner_props = SplitPane.new(
  orientation: :vertical,
  panes: [
    SplitPane.pane(:editor, editor_content(), size: 0.7),
    SplitPane.pane(:terminal, terminal_content(), size: 0.3)
  ]
)
{:ok, inner} = SplitPane.init(inner_props)

outer_props = SplitPane.new(
  orientation: :horizontal,
  panes: [
    SplitPane.pane(:sidebar, file_tree(), size: 0.2, min_size: 10),
    SplitPane.pane(:main, inner, size: 0.8)
  ]
)
{:ok, outer} = SplitPane.init(outer_props)

# Save and restore layout
layout = SplitPane.get_layout(state)
state = SplitPane.set_layout(state, layout)
```

## Branch

All changes are on the `feature/6.10.2-splitpane-widget` branch.
