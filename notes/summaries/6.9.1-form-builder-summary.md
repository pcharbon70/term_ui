# FormBuilder Widget Summary (6.9.1)

## Overview

The FormBuilder widget provides comprehensive form handling for TermUI applications. It supports multiple field types, validation, navigation, conditional fields, and field grouping.

## Features Implemented

### Field Types (6.9.1.1)
- **Text** - Single line text input with placeholder support
- **Password** - Masked text input (displays asterisks)
- **Checkbox** - Boolean toggle with [x]/[ ] display
- **Radio** - Single selection from options with (o)/( ) indicators
- **Select** - Dropdown single selection with expanded view
- **Multi-select** - Multiple selection with checkboxes

### Field Rendering (6.9.1.2)
- Labels with configurable width
- Required field indicators (*)
- Error messages displayed below fields in red
- Focus indicators (> prefix)
- Visual feedback for focused fields (reverse video)

### Tab Navigation (6.9.1.3)
- Tab/Shift+Tab navigation between fields
- Up/Down arrow navigation within options (radio/select/multi-select)
- Wrap-around at form boundaries
- Submit button included in navigation cycle
- Hidden fields skipped automatically

### Validation (6.9.1.4)
- Required field validation
- Custom validator functions with error messages
- Validation on blur (configurable)
- Validation on submit
- Form-wide validation check via `valid?/1`

### Conditional Fields (6.9.1.5)
- `visible_when` condition function
- Dynamic field visibility based on form values
- Conditional fields skipped in navigation when hidden

### Field Grouping (6.9.1.6)
- Group definitions with labels
- Collapsible groups
- `toggle_group/2` API for programmatic control

### Callbacks (6.9.1.7)
- `on_submit` callback when form is submitted
- `on_change` callback when any field value changes
- Validation prevents submission when errors exist

## Public API

### Initialization
- `new/1` - Create form props from field definitions
- `init/1` - Initialize form state

### Value Access
- `get_values/1` - Get all field values
- `get_value/2` - Get specific field value
- `set_value/3` - Set specific field value
- `set_values/2` - Set multiple values at once

### Validation
- `validate/1` - Run validation on all fields
- `valid?/1` - Check if form has no errors
- `get_errors/1` - Get all validation errors

### Focus Management
- `focus_field/2` - Focus a specific field
- `get_focused_field/1` - Get currently focused field

### Group Management
- `toggle_group/2` - Collapse/expand a group

### State Management
- `reset/1` - Reset form to default values

## Files Created

- `lib/term_ui/widgets/form_builder.ex` - Main FormBuilder widget (700+ lines)
- `test/term_ui/widgets/form_builder_test.exs` - 38 tests covering all features
- `examples/form_builder/` - Example application demonstrating all features
- `notes/features/6.9.1-form-builder.md` - Feature planning document

## Test Results

All 38 tests pass:
- Field type tests (text, password, checkbox, radio, select, multi-select)
- Navigation tests (Tab, Shift+Tab, arrow keys, wrap-around)
- Validation tests (required, custom validators, on-blur, valid?)
- Conditional field tests
- Callback tests (on_change, on_submit)
- Public API tests
- Rendering tests
- Group tests

## Usage Example

```elixir
props = FormBuilder.new(
  fields: [
    %{id: :username, type: :text, label: "Username", required: true},
    %{id: :password, type: :password, label: "Password", required: true,
      validators: [fn v -> if String.length(v) >= 6, do: :ok, else: {:error, "Too short"} end]},
    %{id: :remember, type: :checkbox, label: "Remember me"},
    %{id: :role, type: :select, label: "Role",
      options: [{"admin", "Admin"}, {"user", "User"}]},
    %{id: :notifications, type: :multi_select, label: "Notify via",
      options: [{"email", "Email"}, {"sms", "SMS"}, {"push", "Push"}]}
  ],
  on_submit: fn values -> handle_submit(values) end,
  on_change: fn field_id, value -> handle_change(field_id, value) end
)

{:ok, state} = FormBuilder.init(props)
```

## How to Run Example

```bash
cd examples/form_builder
mix deps.get
iex -S mix
FormBuilder.run()
```
